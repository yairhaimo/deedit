<ion-view title="Select Project">
  <ion-nav-buttons side="left">
    <button menu-toggle="left"class="button button-icon icon ion-navicon"></button>
  </ion-nav-buttons>
  <ion-content class="has-header">
  	<div ng-if="!LoginManager.user">
  		Log in to browse projects
  	</div>

	<!-- TODO: change to collection-repeat -->
	<div class="list card project-card" ng-repeat="project in projects" ng-if="LoginManager.user">
		<div class="item item-image">
	    	<img ng-src="{{project.image}}">
	  	</div>
	  	<a ui-sref="app.project({projectid:{{project.id}}})" class="item item-icon-right">
    		<span class="text--emphasized text--uppercase">
    			{{project.name}}
    		</span>
    		<i class="icon ion-ios7-information-outline"></i>
		</a>
	  	<div class="item item-body">
	  		<div class="row">
	  			<span class="col col-75 text--sm">
	  				Objective
	  			</span>
	  			<span class="col text--sm text--right">
	  				${{project.objective}}
	  			</span>
	  		</div>
	  		<div class="row">
	  			<span class="col col-75 text--sm">
	  				Days to go
	  			</span>
	  			<span class="col text--sm text--right">
	  				{{project.duedate | daysleft}}
	  			</span>
	  		</div>
	  		<div class="row">
	  			<span class="col col-75 text--sm">
	  				Status
	  			</span>
	  			<span class="col text--sm text--right">
	  				<progress max="{{project.objective}}" value="{{project.completed}}"></progress>
	  			</span>
	  		</div>
	  	</div>
	  	<a class="button button-block button-calm" ui-sref="app.support({projectid: project.id })">Support</a>
	</div>
	
  </ion-content>
</ion-view>
